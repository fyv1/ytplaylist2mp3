<div *ngIf="loading; else loadedBlock"><div class="loader">Loading...</div></div>
<ng-template #loadedBlock>
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Thumbnail</th>
                <th scope="col">Title</th>
                <th scope="col">Download</th>
                <th scope="col">Listen on YT</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row" class="align-middle"><img src={{item.thumbnailUrl}} width="120px" height="90px" /></th>
                <td class="align-middle">{{item.title}}</td>
                <td class="align-middle">
                    <div *ngIf="item.currentState==='readyToDownload'">
                        <div (click)="downloadRequest(item)"><a routerLink="../downloadmp3">Download</a></div>
                    </div>
                    <div *ngIf="item.currentState==='downloading'">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"><div style="visibility: hidden;">Download</div></div>
                    </div>
                </td>
                <td class="align-middle"><a href='https://youtu.be/watch?v={{item.videoId}}'>Listen on YT</a></td>
            </tr>
        </tbody>
    </table>
</ng-template>